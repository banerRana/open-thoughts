operators:
  - id: small_unverified
    config:
      type: hf_source
      dataset: mlfoundations-dev/pdf_r1_annotation_unverifiable_questions
      split: train
  - id: small_verified
    config:
      type: hf_source
      dataset: mlfoundations-dev/pdf_r1_annotation_verifiable_questions
      split: train
  - id: large_unverified
    config:
      type: hf_source
      dataset: mlfoundations-dev/large_pdf_unverifiable_questions
      split: train
  - id: all
    config:
      type: mix
    input_ids:
      - small_unverified
      - small_verified
      - large_unverified
  - id: classify_question_type
    config:
      type: completions
      map: pdf_extractor_science_question_classification
      map_config:
        problem_column: improved_question_solution
        output_question_classification_column: question_classification
        output_reasoning_column: question_classification_reasoning
      model: gpt-4o-mini
    input_ids:
      - all
  - id: classify_difficulty_type
    config:
      type: completions
      map: pdf_extractor_science_difficulty
      map_config:
        problem_column: improved_question_solution
        output_difficulty_column: difficulty
        output_reasoning_column: difficulty_reasoning
      model: gpt-4o-mini
    input_ids:
      - classify_question_type